## Быстрый старт
Для быстрого разворачивания проекта локально следуйте следующим шагам
1. Клонируйте репозиторий с помощью команды
```bash
git clone https://github.com/ByterGame/test_task_videos_check.git
```
2. Измените название файла ```.env-example``` на ```.env``` и заполните его своими данными
3. Запустите проект с помощью команды 
```bash
docker-compose up --build
```
В случае если вы делаете это впервые база данных сама инициализируется и заполнится данными с помощью скрипта ```database/init_db```

Если же база данных уже содержит таблицы и данные, этот шаг пропустится.

## Описание файлов и архитекутры
1. В дирректории ```database``` содержится все, что связано с базой данных. В том числе и предоставленные тестовые данные, которые находятся во вложенной директории ```fixtures```. Скрипт ```init_db.py``` используется для инициализации базы данных и подгрузки данных при первом запуске. ```models.py``` содержит в себе модели данных, которые планировалось использовать для удобства. В итоге я ими не воспользовался. ```query_manager.py``` содержит в себе класс, который предполагается синглтоном, ответсвенный за выполенние запросов полученных от LLM
2. В директории ```handlers.py``` содержится единственный полезный файл ```query_handler```, содержащий в себе обработчик, который перехватывает все сообщения от пользователя и пытается интерпретировать их как вопрос, который можно преобразовать в запрос к базе данных.
3. В директории ```LLM``` лежат файлы ответственные за работу нейронки (за нее выступает gigachat от сбера в силу того, что это один из самых простых вариантов получить бесплатные запросы в РФ на данный момент. У меня также есть ключ для GPT от openai с одного из старых проектов, но для этого нужно было бы либо хоститься на сервере не в РФ, либо настраивать прокси дополнительно, что мне показалось избыточным для данной задачи).
Системный промпт лежит в файле ```__init__.py``` там же происходит инициализация клиента и создание экземпляра класса из файла ```gigachat.py```, который отвечает за запросы к LLM и получение sql кода из ответа.
4. В корне проекта расположены ```create_bot.py``` в котором инициализируется бот, ```logger.py``` в котором задаются минимальные настройки для логера в проекте, файлы докера и ```run.py```, который явялется точкой входа в программу.